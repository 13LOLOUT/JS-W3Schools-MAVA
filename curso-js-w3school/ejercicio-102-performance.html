<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Performance</h2>

<button onclick="showPerformance()">Ver optimizaciones</button>

<pre id="demo" style="background:#f8f9fa; padding:15px; border-radius:5px; font-size:14px;">
for (let i = 0; i < arr.length; i++) {
  // ❌ arr.length cada iteración
}
</pre>

<script>
function showPerformance() {
  document.getElementById("demo").innerHTML = 
`// 1. Loops - cache length
let l = arr.length;           // ✅ Una vez
for (let i = 0; i < l; i++) {
  // Más rápido
}

// 2. DOM - cache elemento
const obj = document.getElementById("demo");  // ✅ Una vez
obj.innerHTML = "Hello";                      // Usar variable

// ❌ MAL
// document.getElementById("demo").innerHTML = "Hello";

// 3. Evitar variables innecesarias
// ❌ 
let fullName = firstName + " " + lastName;
document.getElementById("demo").innerHTML = fullName;

// ✅ Directo
document.getElementById("demo").innerHTML = firstName + " " + lastName;

// 4. Scripts al final del body
// &lt;script src="myscript.js">&lt;/script>  al final

// 5. NO usar with
// with(obj) {  ❌ Lento + no strict mode
`;
}

console.log("Performance tips cargados");
</script>

<div style="background:#d1ecf1; padding:15px; margin:20px 0; border-left:4px solid #17a2b8;">
<h3>Optimizaciones clave:</h3>
<ul>
  <li>Cache <code>arr.length</code> fuera del loop</li>
  <li>Cache <code>getElementById()</code> en variable</li>
  <li>Menos elementos DOM = más rápido</li>
  <li>NO variables temporales innecesarias</li>
  <li>Scripts al final del body</li>
  <li>NO <code>with</code></li>
</ul>
</div>

</body>
</html>