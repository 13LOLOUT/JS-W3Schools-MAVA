<!DOCTYPE html>
<html>
<head>
  <title>#134 Project - Form Validation</title>
  <style>
    /* CSS del tutorial exacto */
    input {
      padding: 8px;
      width: 260px;
      margin-bottom: 4px;
    }
    .error {
      color: red;
      margin: 0;
    }
    .ok {
      color: green;
      margin: 0;
    }
    .field {
      margin-bottom: 12px;
    }
  </style>
</head>
<body>

<h2>#134 Form Validation</h2>

<form id="signupForm">
  <div class="field">
    <label>Name:</label><br>
    <input id="name" type="text" placeholder="Your name">
    <p id="nameError" class="error"></p>
  </div>

  <div class="field">
    <label>Email:</label><br>
    <input id="email" type="text" placeholder="name@example.com">
    <p id="emailError" class="error"></p>
  </div>

  <div class="field">
    <label>Password:</label><br>
    <input id="password" type="password" placeholder="Min 8 characters">
    <p id="passwordError" class="error"></p>
  </div>

  <div class="field">
    <label>Confirm Password:</label><br>
    <input id="confirm" type="password" placeholder="Repeat password">
    <p id="confirmError" class="error"></p>
  </div>

  <p><button type="submit">Create Account</button></p>
</form>

<p id="result"></p>

<script>
// Objetos para cada campo (exacto tutorial)
const form = document.getElementById("signupForm");
const nameInput = document.getElementById("name");
const emailInput = document.getElementById("email");
const passInput = document.getElementById("password");
const confirmInput = document.getElementById("confirm");
const nameError = document.getElementById("nameError");
const emailError = document.getElementById("emailError");
const passError = document.getElementById("passwordError");
const confirmError = document.getElementById("confirmError");
const result = document.getElementById("result");

// Mostrar error
function showError(el, message) {
  el.innerHTML = message;
}

// Limpiar error
function clearError(el) {
  el.innerHTML = "";
}

// Validar nombre
function validateName() {
  let value = nameInput.value.trim();
  if (value.length < 2) {
    showError(nameError, "Name must be at least 2 characters.");
    return false;
  }
  clearError(nameError);
  return true;
}

// Validar email
function validateEmail() {
  let value = emailInput.value.trim();
  if (!(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value))) {
    showError(emailError, "Enter a valid email address.");
    return false;
  }
  clearError(emailError);
  return true;
}

// Validar password
function validatePassword() {
  let value = passInput.value;
  if (value.length < 8) {
    showError(passError, "Password must be at least 8 characters.");
    return false;
  }
  clearError(passError);
  return true;
}

// Validar confirm
function validateConfirm() {
  let pass = passInput.value;
  let confirm = confirmInput.value;
  if (confirm === "") {
    showError(confirmError, "Please confirm your password.");
    return false;
  }
  if (confirm !== pass) {
    showError(confirmError, "Passwords do not match.");
    return false;
  }
  clearError(confirmError);
  return true;
}

// Validar formulario completo
function validateForm() {
  let okName = validateName();
  let okEmail = validateEmail();
  let okPass = validatePassword();
  let okConfirm = validateConfirm();
  return okName && okEmail && okPass && okConfirm;
}

// Prevenir reload por defecto
form.addEventListener("submit", function(event) {
  event.preventDefault();
  result.innerHTML = "";
  
  if (validateForm()) {
    result.innerHTML = "Form is valid!";
    result.className = "ok";
  } else {
    result.innerHTML = "Please fix the errors.";
    result.className = "error";
  }
});
</script>

</body>
</html>
