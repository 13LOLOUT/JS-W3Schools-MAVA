<!DOCTYPE html>
<html>
<body>

<h2>JavaScript call() Method</h2>

<button onclick="runCallExamples()">Ver ejemplos call()</button>

<pre id="demo" style="background:#f8f9fa; padding:15px; border-radius:5px; font-size:14px;">
func.call(objeto, arg1, arg2)
</pre>

<script>
function runCallExamples() {
  document.getElementById("demo").innerHTML = 
`// 1Ô∏è‚É£ B√ÅSICO: Controlar 'this'
function greet(greeting) {
  return greeting + " " + this.name;
}

const juan = { name: "Juan" };
const maria = { name: "Mar√≠a" };

greet.call(juan, "Hola");    // "Hola Juan"
greet.call(maria, "Buenos"); // "Buenos Mar√≠a"

// 2Ô∏è‚É£ PRESTAR M√âTODO
const plantilla = {
  fullName: function(city) {
    return this.firstName + " " + this.lastName + ", " + city;
  }
};

const p1 = { firstName: "Ana", lastName: "L√≥pez" };
const p2 = { firstName: "Luis", lastName: "G√≥mez" };

plantilla.fullName.call(p1, "CDMX");  // "Ana L√≥pez, CDMX"
plantilla.fullName.call(p2, "Guadalajara"); // "Luis G√≥mez, Guadalajara"

// 3Ô∏è‚É£ CON ARGUMENTOS
const persona = {
  fullName: function(city, country) {
    return this.firstName + " " + this.lastName + ", " + city + ", " + country;
  }
};

const john = { firstName: "John", lastName: "Doe" };
persona.fullName.call(john, "Oslo", "Norway"); // "John Doe, Oslo, Norway"
`;
}

// Demo interactivo
const person1 = { firstName: "Pedro", lastName: "Mart√≠nez" };
const person2 = { firstName: "Sof√≠a", lastName: "Ram√≠rez" };

function showFullName(city) {
  return this.firstName + " " + this.lastName + " de " + city;
}

document.write(`
  <h3>Demo call() en vivo:</h3>
  <p>Pedro: ${showFullName.call(person1, "Guadalajara")}</p>
  <p>Sof√≠a: ${showFullName.call(person2, "Monterrey")}</p>
`);

console.log("Normal:", showFullName()); // undefined
console.log("call():", showFullName.call(person1, "M√©xico")); // "Pedro Mart√≠nez de M√©xico"
</script>

<div style="background:#d1ecf1; padding:15px; margin:20px 0; border-left:4px solid #17a2b8;">
<h3>call() vs Normal:</h3>
<table border="1" style="border-collapse: collapse;">
  <tr><th>Normal</th><th>call()</th></tr>
  <tr><td><code>func()</code></td><td><code>func.call(obj, args...)</code></td></tr>
  <tr><td>this = global/window</td><td>this = objeto especificado</td></tr>
  <tr><td>Ejecuta inmediatamente</td><td>Ejecuta inmediatamente</td></tr>
</table>

<h4>üîë Sintaxis:</h4>
<p><code>funcion.call(objetoDestino, arg1, arg2, ...)</code></p>

<h4>‚ö†Ô∏è Errores comunes:</h4>
<ul>
  <li><code>call()</code> NO crea nueva funci√≥n (usa <code>bind()</code>)</li>
  <li>Argumentos individuales, no array (usa <code>apply()</code>)</li>
</ul>
</div>

</body>
</html>